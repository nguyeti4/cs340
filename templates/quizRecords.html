{% extends "base.html" %}
{% block title %}Quiz_Records{% endblock %}

{% block content %} 
<div class="container" style="margin-left: 0;">
  <h3><a href="/quiz_records">QuizRecords</a></h3>
  <p>
      This page is used to manage the QuizRecords table. 
	<ul>
	  <li>Normally, the information of this table should come from the customer facing website, but admins can manually insert the result of a quiz. </li>
	  <li>Each time a user took a quiz, results of that quiz will be inserted into this table.</li>
      <li>On this page, the admin staff can insert a quiz record into the table, search for a particular quiz result as well, and delete a record from the table. </li>
	</ul>
  </p>   
</div>

<form class="container" action="quiz_records" method="POST" style="margin-left: 0;">
    <div>
        <h4>Add a Quiz record Manually</h4>
    </div>
    <div class="form-group">
        <label>User ID</label> 
        <input class="form-control" type="number" name="quiz_user_id">
    </div>
    <div class="form-group">
        <label>Quiz Date</label> 
        <input class="form-control" type="date" name="quiz_date">
    </div>
    <div class="form-group">
        <label>Quiz State</label> 
        <input class="form-control" type="text" name="quiz_state">
    </div>
    <div class="form-group">
        <label>Quiz Score</label> 
        <input class="form-control" type="number" name="quiz_score">
    </div>
    <input class="btn btn-primary" type="submit" value="Add">
</form>

<table class="container" class="table table-striped" style="margin-left: 0;">
<h4>Here is your Add result</h4>
  <thead>
    <tr>
      <th scope="col">Quiz ID#</th>
      <th scope="col">User ID#</th>
      <th scope="col">Quiz Date</th>
      <th scope="col">Quiz State</th>
      <th scope="col">Quiz Score</th>
    </tr>
  </thead>
  <tbody>
    {% for item in results %}
    <tr>
      <th scope="row">{{item[0]}}</th>
      <td>{{item[1]}}</td>
      <td>{{item[2]}}</td>
      <td>{{item[3]}}</td>
      <td>{{item[4]}}</td>    
    </tr>
    {% endfor %}
  </tbody>
</table>

<form class="container2" action="/quiz_records/update" method="GET" class="form-inline my-2 my-lg-0" style="margin-left: 0;">
  <div>
    <h4>Search for Quiz records you want to delete that are older than the date specified</h4>	
  </div>
  <div>
    <label>Quiz_Date: <input class="form-control" type="date" name="del_quizdates"></label>
  </div>    
  <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>	
</form>


<!-- populate the searching result as a table here -->
<!-- on the right side of each row, there will be two buttons, update or delete -->
<table class="container" class="table table-striped" style="margin-left: 0;">
  <div>
    <h4>Delete quiz record</h4>
  </div>
  <thead>
    <tr>
      <th scope="col">Quiz ID#</th>
      <th scope="col">User ID#</th>
      <th scope="col">Quiz Date</th>
      <th scope="col">Quiz State</th>
      <th scope="col">Quiz Score</th>
    </tr>
  </thead>
  <tbody>
    {% for record in delete_dates %}
    <tr>
      <th scope="row">{{record[0]}}</th>
      <td>{{record[1]}}</td>
      <td>{{record[2]}}</td>
      <td>{{record[3]}}</td>
      <td>{{record[4]}}</td>    
    </tr>
    {% endfor %}
  </tbody>
</table>
<input class="btn btn-primary" type="submit" value="Delete All">
{% endblock %}
