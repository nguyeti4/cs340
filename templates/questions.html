{% extends "base.html" %}
{% block title %}Questions{% endblock %}

{% block content %} 
<div class="container" style="margin-left: 0;">
  <h3><a href="/questions">Questions</a></h3>
  <p>
    This page is used to manage the Questions and QuestionChoices table. The QuestionChoices is an aided table for the Questions
    table based on 1NF principle. 
    <ul>
      <li>On this page, there is a form to insert a new question. </li>
      <li>Also, the admin staff can search questions with keywords.</li>
      <li> The result table will display the searching result. For each row of data, the admin staff can update/delete that question.</li>
    </ul>
  </p>   
</div>
<br>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg">
      <!-- add a new question form -->
      <form class="container" action="/api/questions" method="POST" style="margin-left: 0;">
        <div>
          <h4>Add a New Question</h4>
        </div>
        <div class="form-group">
            <label>Question Description</label> 
            <input class="form-control" type="text" name="question_desc">
        </div>
        <div class="form-group">
          <label>State</label> 
          <select name="state">
            <option>Universal</option>
            <option>California</option>
            <option>Oregon</option>
          </select>
        </div>
        <div class="form-group">
            <label>Choice1</label> 
            <input class="form-control" type="text" name="choice1">
        </div>
        <div class="form-group">
            <label>Choice2</label> 
            <input class="form-control" type="text" name="choice2">
        </div>
        <div class="form-group">
            <label>Choice3</label> 
            <input class="form-control" type="text" name="choice3">
        </div>
        <div class="form-group">
          <label>Right Answer</label> 
          <input class="form-control" type="text" name="right_answer">
        </div>
        <input class="btn btn-primary" type="submit" value="Add">
      </form>
    </div>
    <div class="col-lg">
      <!--  search bar to find the related questions -->
      <div>
        <h4>Search Question</h4>
      </div>
      <form class="container" action="/api/questions" method="GET">
        <input class="form-control mr-sm-2" type="search" name="keywords" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
  </div>
</div>

<br>
<br>
<!-- populate the searching result as a table here -->
<!-- on the right side of each row, there will be two buttons, update or delete -->
<div>
  <div>
    <h4>Here is the add/search result</h4>
  </div>
  <table class="container" class="table table-striped" style="margin-left: 0;">
    <thead>
      <tr>
        <th scope="col">Question ID#</th>
        <th scope="col">State</th>
        <th scope="col">Question Description</th>
        <th scope="col">Right Answer</th>
        <th scope="col">Choice1</th>
        <th scope="col">Choice2</th>
        <th scope="col">Choice3</th>
        <th scope="col">Update</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for data in values %}
      <tr>
        <th scope="row">{{data[0]}}</th>
        <td>{{data[1]}}</td>
        <td>{{data[2]}}</td>
        <td>{{data[3]}}</td>
        <td>{{data[4]}}</td>
        <td>{{data[5]}}</td>
        <td>{{data[6]}}</td>
        <td><input class="btn btn-primary" type="submit" value="Update"></td>
        <td><input class="btn btn-primary" type="submit" value="Delete"></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<br>
<br>
<br>
<br>

{% endblock %}